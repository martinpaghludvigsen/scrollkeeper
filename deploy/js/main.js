var _gaq=_gaq||[];_gaq.push(["_setAccount","UA-38312703-1"]);_gaq.push(["_trackPageview"]);(function(){var b=document.createElement("script");b.type="text/javascript";b.async=true;b.src="https://ssl.google-analytics.com/ga.js";var a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(b,a)})();$(function(){var H=localStorage.scale?localStorage.scale:"metric";if(H=="imperial"){$("#config_1_1").removeClass("config_selected");$("#config_1_2").removeClass("config_unselected");$("#config_1_1").addClass("config_unselected");$("#config_1_2").addClass("config_selected")}else{$("#config_1_1").removeClass("config_unselected");$("#config_1_2").removeClass("config_selected");$("#config_1_1").addClass("config_selected");$("#config_1_2").addClass("config_unselected")}var m=localStorage.landmarks?localStorage.landmarks:1;if(m==0){$("#config_2_1").removeClass("config_selected");$("#config_2_2").removeClass("config_unselected");$("#config_2_1").addClass("config_unselected");$("#config_2_2").addClass("config_selected")}else{$("#config_2_1").removeClass("config_unselected");$("#config_2_2").removeClass("config_selected");$("#config_2_1").addClass("config_selected");$("#config_2_2").addClass("config_unselected")}var b=localStorage.recording?localStorage.recording:1;var l;var j;var d=5000;var o=127;var G=new Date();var n=new Date(G.getFullYear(),G.getMonth(),(G.getDate()));var i=n.getTime();var m=new Array();m.push({distance:143250,label:"Hey! Your first landmark. The length of a basketball court.",unlocked:false,distmetric:"28.65 meter",distimperial:"94 feet"});m.push({distance:232500,label:"You're getting good at this. You’ve scrolled the height of the Statue of Liberty.",unlocked:false,distmetric:"46.5 meter",distimperial:"152 feet 7 inches"});m.push({distance:274000,label:"Hurrey! You’ve scrolled the length of an average toilet paper roll.",unlocked:false,distmetric:"54.8 meter",distimperial:"180 feet"});m.push({distance:365000,label:"Yay! You just scrolled the length of the Great Sphinx in Giza!",unlocked:false,distmetric:"73 meter",distimperial:"240 feet"});m.push({distance:500000,label:"100 meters! Thats the exact length of a 100 metres sprint. Now do that bow and arrow pose!",unlocked:false,distmetric:"100 meter",distimperial:"328 feet"});m.push({distance:770000,label:"Presidential! You have scrolled all the way around the White House! ",unlocked:false,distmetric:"154 meter",distimperial:"505 feet"});m.push({distance:1100000,label:"You’ve crossed the Thames River in London. ",unlocked:false,distmetric:"220 meter",distimperial:"328 feet"});m.push({distance:1345000,label:"Wow, you've scrolled the length of the Titanic.",unlocked:false,distmetric:"269 meter",distimperial:"882 feet"});m.push({distance:1785000,label:"Hey! You’ve scrolled all the way to the highest floor of the Trump Tower",unlocked:false,distmetric:"357 meter",distimperial:"1171 feet"});m.push({distance:2620000,label:"You’ve scrolled all the way around the Colosseum. The whole perimeter.",unlocked:false,distmetric:"524 meter",distimperial:"1719 feet"});m.push({distance:3050000,label:"Now you scrolled the distance between the employment service and the liquor store in the small town of Karlstad in Sweden. A classic distance.",unlocked:false,distmetric:"610 meter",distimperial:"2,001 feet"});m.push({distance:3675000,label:"Doesn't scrolling make you hungry? Anyway, you've scrolled as long as the world's longest sandwich. ",unlocked:false,distmetric:"735 meter",distimperial:"2,411 feet 5 inches"});m.push({distance:6000000,label:"You’ve just scrolled the La Rambla in Barcelona. And you didn’t get pickpocketed.",unlocked:false,distmetric:"1,200 meter",distimperial:"3,937 feet"});m.push({distance:9125000,label:"Awesome! You’ve scrolled the Brooklyn Bridge! ",unlocked:false,distmetric:"1,825 meter",distimperial:"5,987 feet"});m.push({distance:13685000,label:"Your scrolling is GOLD! Now you’ve scrolled the length of the Golden Gate Bridge.",unlocked:false,distmetric:"2,737 meter",distimperial:"8,980 feet"});m.push({distance:24050000,label:"You’ve scrolled to the highest point of Europe, the top of Mont Blanc.",unlocked:false,distmetric:"4,810 meter",distimperial:"15,781 feet"});m.push({distance:44240000,label:"You've scrolled 8848 meters, that's the height of Mount Everest.",unlocked:false,distmetric:"8,848 meter",distimperial:"29,000 feet"});m.push({distance:108000000,label:"Awesome! You have scrolled all the way across Manhattan.",unlocked:false,distmetric:"21.6 km",distimperial:"13.4 miles"});m.push({distance:175000000,label:"You’ve scrolled the length of Sunset Boulevard. Now take off that Ed Hardy hat.",unlocked:false,distmetric:"35 km",distimperial:"22 miles"});m.push({distance:210975000,label:"Congrats! You've scrolled a full marathon. ",unlocked:false,distmetric:"42.195 km",distimperial:"26.22 miles"});m.push({distance:560000000,label:"Hey, you've scrolled a long long distance. To be exact, it equals the longest solo ocean swim ever.",unlocked:false,distmetric:"112 km",distimperial:"69.59 miles"});m.push({distance:775000000,label:"Du bist ein Berliner, you’ve just scrolled the length of the Berlin Wall.",unlocked:false,distmetric:"155 km",distimperial:"96 miles"});m.push({distance:1112250000,label:"The combined length of the swim, the bicycle ride and the marathon in an Ironman. Your parents should be proud.",unlocked:false,distmetric:"222.45 km",distimperial:"140.6 miles"});m.push({distance:2137000000,label:"Vegas baby, Vegas! You've scrolled the distance between Los Angeles and Las Vegas.",unlocked:false,distmetric:"427.4 km",distimperial:"265.6 miles"});m.push({distance:5525000000,label:"Hey, you've scrolled that's the distance between Paris and Rome.",unlocked:false,distmetric:"1105 km",distimperial:"686.6 miles"});m.push({distance:44260000000,label:"How long is the Great Wall of China? The same distance you just scrolled. Virtual high five!",unlocked:false,distmetric:"8852 km",distimperial:"5501 miles"});m.push({distance:200375000000,label:"OMG, you've scrolled the length of the equator.",unlocked:false,distmetric:"40075 km",distimperial:"24901 miles"});m.push({distance:1922015000000,label:"Hey, this is crazy but you've scrolled 384403 kilometres, that's the distance between earth and the moon. So call it, maybe.",unlocked:false,distmetric:"384403 km",distimperial:"238857 miles"});m.push({distance:5000000000000,label:"WE SALUTE YOU, LORD OF THE INTERNETZ.",unlocked:false,distmetric:"1000000 km",distimperial:"621371 miles"});try{chrome.tabs.getSelected(null,function(e){chrome.tabs.sendMessage(e.id,{greeting:"hello, content script"})});chrome.extension.onMessage.addListener(function(K,J,e){console.log("RECEIVED:"+K.totalScrolled);if(b!=0){f+=parseInt(K.totalScrolled);s+=parseInt(K.totalScrolled);$("#message").html(f.toString()+" pixels scrolled");B();E(f);console.log(K);localStorage.totalScrolled=parseInt(f);localStorage.setItem(i,parseInt(s));chrome.tabs.getSelected(null,function(L){chrome.tabs.sendMessage(L.id,{distanceReceived:K.totalScrolled})})}else{chrome.tabs.getSelected(null,function(L){chrome.tabs.sendMessage(L.id,{distanceReceived:K.totalScrolled})})}})}catch(F){console.log(F)}if(b==0){$("#playpause_button").toggleClass("playpause_button_statepause")}var f=parseInt(localStorage.totalScrolled?localStorage.totalScrolled:0);var s=parseInt(localStorage.getItem(i)?localStorage.getItem(i):0);var C=document.getElementById("distancecanvas").getContext("2d");C.font="100px BeBas";C.fillStyle="White";var D=document.getElementById("distancecanvas_reflection").getContext("2d");D.font="100px BeBas";D.fillStyle="White";D.scale(1,-1);var A=document.getElementById("distancecanvas_p3").getContext("2d");A.font="100px BeBas";A.fillStyle="White";var y=document.getElementById("distancecanvas_reflection_p3").getContext("2d");y.font="100px BeBas";y.fillStyle="White";y.scale(1,-1);var c=D.createLinearGradient(0,-45,0,45);c.addColorStop(0,"rgba( 255, 255, 255, 0 )");c.addColorStop(1,"rgba( 255, 255, 255, 1.0 )");D.fillStyle=c;D.rect(0,0,D.width,45);D.fill();y.fillStyle=c;y.rect(0,0,D.width,45);y.fill();B();u(f);v();setTimeout(B,500);$("#navigation li a").click(function(){_gaq.push(["_trackEvent",this.id,"clicked"]);z(this.id)});$("#page1_twitter").click(function(){_gaq.push(["_trackEvent","Share on Twitter","clicked"]);var M;if(l.split("|").length>1){M=l.split("|")[0]+j+l.split("|")[1]}else{M=l+" "+j}M=M.replace(/^0+/,"");var L=/twitter\.com(\:\d{2,4})?\/intent\/(\w+)/,P="scrollbars=yes,resizable=yes,toolbar=no,location=yes",N=550,e=420,K=screen.height,J=screen.width,O=encodeURIComponent("I've scrolled "+M+" today. ScrollKeeper tracks how far you walk on the roads of the internet. http://www.scrollkeeper.org");left=Math.round((J/2)-(N/2));top=50;if(K>e){top=Math.round((K/2)-(e/2))}window.open("https://twitter.com/intent/tweet/?text="+O,"intent",P+",width="+N+",height="+e+",left="+left+",top="+top)});$("#page1_fb").click(function(){_gaq.push(["_trackEvent","Share on Facebook","clicked"]);if(l.split("|").length>1){distanceShareOutput=l.split("|")[0]+j+l.split("|")[1]}else{distanceShareOutput=l+""+j}distanceShareOutput=distanceShareOutput.replace(/^0+/,"");var O="scrollbars=yes,resizable=yes,toolbar=no,location=yes",L=958,e=650,K=screen.height,J=screen.width;var N=Math.round((J/2)-(L/2));var M=50;window.open("http://www.scrollkeeper.org/post_form.php?distance="+distanceShareOutput,"fb_share",O+",width="+L+",height="+e+",left="+N+",top="+M)});$("#playpause_button").click(function(){$("#playpause_button").toggleClass("playpause_button_statepause");if(b==0){_gaq.push(["_trackEvent","Play","clicked"]);b=1}else{_gaq.push(["_trackEvent","Pause","clicked"]);b=0}localStorage.recording=b});$("#page_5_scale").click(function(){if(H=="metric"){_gaq.push(["_trackEvent","Scale Imperial","clicked"]);$("#config_1_1").removeClass("config_selected");$("#config_1_2").removeClass("config_unselected");$("#config_1_1").addClass("config_unselected");$("#config_1_2").addClass("config_selected");H="imperial"}else{_gaq.push(["_trackEvent","Scale Metric","clicked"]);$("#config_1_1").removeClass("config_unselected");$("#config_1_2").removeClass("config_selected");$("#config_1_1").addClass("config_selected");$("#config_1_2").addClass("config_unselected");H="metric"}localStorage.scale=H;B();v()});$("#page_5_landmarks").click(function(){if(m==1){_gaq.push(["_trackEvent","Landmarks Off","clicked"]);$("#config_2_1").removeClass("config_selected");$("#config_2_2").removeClass("config_unselected");$("#config_2_1").addClass("config_unselected");$("#config_2_2").addClass("config_selected");m=0}else{_gaq.push(["_trackEvent","Landmarks On","clicked"]);$("#config_2_1").removeClass("config_unselected");$("#config_2_2").removeClass("config_selected");$("#config_2_1").addClass("config_selected");$("#config_2_2").addClass("config_unselected");m=1}localStorage.landmarks=m});$("#page_5_reset").click(function(){_gaq.push(["_trackEvent","Reset","clicked"]);var e=confirm("Really reset all your stats? There is no regretting this!");if(e){localStorage.clear();f=0;s=0}});function z(J){$("#navigation li a").removeClass("selected");$("#navigation li a").addClass("unselected");$("#"+J).removeClass("unselected");$("#"+J).addClass("selected");var e=J.replace("nav_","page_");$("#pages > div").removeClass("selected");$("#pages > div").addClass("unselected");$("#"+e).addClass("selected");$("#"+e).removeClass("unselected")}function B(){C.clearRect(0,0,400,200);D.clearRect(0,0,400,-200);A.clearRect(0,0,400,200);y.clearRect(0,0,400,-200);var J,e;if(H=="metric"){e=(Math.round((s/d)*100)/100);J=(Math.round((f/d)*100)/100)}else{e=(Math.round((s/o)*100)/100);J=(Math.round((f/o)*100)/100)}if(H=="metric"){distanceObjToday=k(e);distanceObjTotal=k(J)}else{distanceObjToday=I(e);distanceObjTotal=I(J)}if(distanceObjToday.distanceString.split("|").length>1){$("#page_1_unit").css({left:"160px"});C.fillText(distanceObjToday.distanceString.split("|")[0],45,90);D.fillText(distanceObjToday.distanceString.split("|")[0],45,0);C.fillText(distanceObjToday.distanceString.split("|")[1],175,90);D.fillText(distanceObjToday.distanceString.split("|")[1],175,0)}else{$("#page_1_unit").css({left:"275px"});C.fillText(distanceObjToday.distanceString,45,90);D.fillText(distanceObjToday.distanceString,45,0)}if(distanceObjTotal.distanceString.split("|").length>1){$("#page_3_unit").css({left:"160px"});A.fillText(distanceObjTotal.distanceString.split("|")[0],45,90);y.fillText(distanceObjTotal.distanceString.split("|")[0],45,0);A.fillText(distanceObjTotal.distanceString.split("|")[1],175,90);y.fillText(distanceObjTotal.distanceString.split("|")[1],175,0)}else{$("#page_3_unit").css({left:"275px"});A.fillText(distanceObjTotal.distanceString,45,90);y.fillText(distanceObjTotal.distanceString,45,0)}$("#page_3_unit").html(distanceObjTotal.unitString);$("#page_1_unit").html(distanceObjToday.unitString);l=distanceObjToday.distanceString;j=distanceObjToday.unitString}function I(K){var e;var J;if(K<12){e=h(K);J="in"}else{if(K<63360){e=t(K);J="ft"}else{e=q(K);J="mi"}}return{distanceString:e,unitString:J}}function h(J){var e=Math.round(J);if(e<10){return"000"+e}else{return"00"+e}}function t(K){var J=Math.floor(K/12);var e;if(J<10){e="0"+J.toString();if(K%12==0){e+="|00"}else{if(K%12<10){e+="|0"+Math.floor(K%12)}else{e+="|"+Math.floor(K%12)}}}else{if(J<100){e=J.toString();if(K%12==0){e+="|00"}else{if(K%12<10){e+="|0"+Math.floor(K%12)}else{e+="|"+Math.floor(K%12)}}}else{if(J<1000){e="0"+J.toString()}else{e=J.toString()}}}return e}function q(K){var e;var J=(Math.round((K/63360)*1000)/1000);if(J<10){e=J.toString();if(a(J)==0){e+=".000"}else{if(a(J)==1){e+="00"}else{if(a(J)==2){e+="0"}}}}else{if(J<100){J=(Math.round(J*100)/100);e=J.toString();if(a(J)==0){e+=".00"}else{if(a(J)==1){e+="0"}}}else{J=(Math.round(J*10)/10);e=J.toString();if(a(J)==0){e+=".0"}}}return e}function k(K){var e;var J;if(K<1){e=w(K);J="cm"}else{if(K<1000){e=r(K);J="m"}else{if(K<1000000){e=p(K);J="km"}else{e=x(K);J="Mm"}}}return{distanceString:e,unitString:J}}function w(e){distCm=Math.round(100*e);if(distCm<10){return"000"+distCm}else{return"00"+distCm}}function r(e){if(e<10){l="0"+e.toString();if(a(e)==0){l+=".00"}else{if(a(e)==1){l+="0"}}}else{if(e<100){l=e.toString();if(a(e)==0){l+=".00"}else{if(a(e)==1){l+="0"}}}else{e=(Math.round(e*10)/10);l=e.toString();if(a(e)==0&&e<1000){l+=".0"}}}return l}function p(J){distKm=Math.round((Math.round(J)/1000)*1000)/1000;var e;if(distKm<10){e=distKm.toString();if(a(distKm)==0){e+=".000"}else{if(a(distKm)==1){e+="00"}else{if(a(distKm)==2){e+="0"}}}}else{if(distKm<100){distKm=(Math.round(distKm*100)/100);e=distKm.toString();if(a(distKm)==0){e+=".00"}else{if(a(distKm)==1){e+="0"}}}else{distKm=(Math.round(distKm*10)/10);e=distKm.toString();if(a(distKm)==0){e+=".0"}}}return e}function x(J){distMm=Math.round((Math.round(J)/1000000)*1000)/1000;var e;if(distMm<10){e=distMm.toString();if(a(distMm)==0){e+=".000"}else{if(a(distMm)==1){e+="00"}else{if(a(distMm)==2){e+="0"}}}}else{if(distMm<100){distMm=(Math.round(distMm*100)/100);e=distMm.toString();if(a(distMm)==0){e+=".00"}else{if(a(distMm)==1){e+="0"}}}else{distMm=(Math.round(distMm*10)/10);e=distMm.toString();if(a(distMm)==0){e+=".0"}}}return e}function a(J){var e=(""+J).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);if(!e){return 0}return Math.max(0,(e[1]?e[1].length:0)-(e[2]?+e[2]:0))}function g(){var K=document.createElement("div");K.style.width="1in";var J=document.getElementsByTagName("body")[0];J.appendChild(K);var e=document.defaultView.getComputedStyle(K,null).getPropertyValue("width");J.removeChild(K);return parseFloat(e)}function u(K){var J;for(var e=0;e<m.length;e++){J=m[e];if(J.distance<K){J.unlocked=true}}}function E(L){var K;var e=false;for(var J=0;J<m.length;J++){K=m[J];if(K.distance<L&&!K.unlocked){K.unlocked=true;e=true}}if(e){v()}}function v(){var K;var e="";for(var J=m.length-1;J>=0;J--){K=m[J];if(K.unlocked){if(H=="imperial"){e+="<p>"+K.label+" ("+K.distimperial+')</p>\n<p class="landmark_line"></p>'}else{e+="<p>"+K.label+" ("+K.distmetric+')</p>\n<p class="landmark_line"></p>'}}}$("#landmark_container").html(e)}});
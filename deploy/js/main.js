$(function(){var I=localStorage.scale?localStorage.scale:"metric";if(I=="imperial"){$("#config_1_1").removeClass("config_selected");$("#config_1_2").removeClass("config_unselected");$("#config_1_1").addClass("config_unselected");$("#config_1_2").addClass("config_selected")}else{$("#config_1_1").removeClass("config_unselected");$("#config_1_2").removeClass("config_selected");$("#config_1_1").addClass("config_selected");$("#config_1_2").addClass("config_unselected")}var m=localStorage.landmarks?localStorage.landmarks:1;if(m==0){$("#config_2_1").removeClass("config_selected");$("#config_2_2").removeClass("config_unselected");$("#config_2_1").addClass("config_unselected");$("#config_2_2").addClass("config_selected")}else{$("#config_2_1").removeClass("config_unselected");$("#config_2_2").removeClass("config_selected");$("#config_2_1").addClass("config_selected");$("#config_2_2").addClass("config_unselected")}var s=localStorage.awesomeness?localStorage.awesomeness:1;if(s==0){$("#config_3_1").removeClass("config_selected");$("#config_3_2").removeClass("config_unselected");$("#config_3_1").addClass("config_unselected");$("#config_3_2").addClass("config_selected")}else{$("#config_3_1").removeClass("config_unselected");$("#config_3_2").removeClass("config_selected");$("#config_3_1").addClass("config_selected");$("#config_3_2").addClass("config_unselected")}var b=localStorage.recording?localStorage.recording:1;var l;var j;var d=5000;var o=127;var H=new Date();var n=new Date(H.getFullYear(),H.getMonth(),(H.getDate()));var i=n.getTime();var m=new Array();m.push({distance:143250,label:"Hey! Your first landmark. The length of a basketball court.",unlocked:false,distmetric:"28.65 meter",distimperial:"94 feet"});m.push({distance:232500,label:"You're getting good at this. You’ve scrolled the height of the Statue of Liberty.",unlocked:false,distmetric:"46.5 meter",distimperial:"152 feet 7 inches"});m.push({distance:274000,label:"Hurrey! You’ve scrolled the length of an average toilet paper roll.",unlocked:false,distmetric:"54.8 meter",distimperial:"180 feet"});m.push({distance:365000,label:"Yay! You just scrolled the length of the Great Sphinx in Giza!",unlocked:false,distmetric:"73 meter",distimperial:"240 feet"});m.push({distance:500000,label:"100 meters! Thats the exact length of a 100 metres sprint. Now do that bow and arrow pose!",unlocked:false,distmetric:"100 meter",distimperial:"328 feet"});m.push({distance:770000,label:"Presidential! You have scrolled all the way around the White House! ",unlocked:false,distmetric:"154 meter",distimperial:"505 feet"});m.push({distance:1100000,label:"You’ve crossed the Thames River in London. ",unlocked:false,distmetric:"220 meter",distimperial:"328 feet"});m.push({distance:1345000,label:"Wow, you've scrolled the length of the Titanic.",unlocked:false,distmetric:"269 meter",distimperial:"882 feet"});m.push({distance:1785000,label:"Hey! You’ve scrolled all the way to the highest floor of the Trump Tower",unlocked:false,distmetric:"357 meter",distimperial:"1171 feet"});m.push({distance:2620000,label:"You’ve scrolled all the way around the Colosseum. The whole perimeter.",unlocked:false,distmetric:"524 meter",distimperial:"1719 feet"});m.push({distance:3050000,label:"Now you scrolled the distance between the employment service and the liquor store in the small town of Karlstad in Sweden. A classic distance.",unlocked:false,distmetric:"610 meter",distimperial:"2,001 feet"});m.push({distance:3675000,label:"Doesn't scrolling make you hungry? Anyway, you've scrolled as long as the world's longest sandwich. ",unlocked:false,distmetric:"735 meter",distimperial:"2,411 feet 5 inches"});m.push({distance:6000000,label:"You’ve just scrolled the La Rambla in Barcelona. And you didn’t get pickpocketed.",unlocked:false,distmetric:"1,200 meter",distimperial:"3,937 feet"});m.push({distance:9125000,label:"Awesome! You’ve scrolled the Brooklyn Bridge! ",unlocked:false,distmetric:"1,825 meter",distimperial:"5,987 feet"});m.push({distance:13685000,label:"Your scrolling is GOLD! Now you’ve scrolled the length of the Golden Gate Bridge.",unlocked:false,distmetric:"2,737 meter",distimperial:"8,980 feet"});m.push({distance:24050000,label:"You’ve scrolled to the highest point of Europe, the top of Mont Blanc.",unlocked:false,distmetric:"4,810 meter",distimperial:"15,781 feet"});m.push({distance:44240000,label:"You've scrolled 8848 meters, that's the height of Mount Everest.",unlocked:false,distmetric:"8,848 meter",distimperial:"29,000 feet"});m.push({distance:108000000,label:"Awesome! You have scrolled all the way across Manhattan.",unlocked:false,distmetric:"21.6 km",distimperial:"13.4 miles"});m.push({distance:175000000,label:"You’ve scrolled the length of Sunset Boulevard. Now take off that Ed Hardy hat.",unlocked:false,distmetric:"35 km",distimperial:"22 miles"});m.push({distance:210975000,label:"Congrats! You've scrolled a full marathon. ",unlocked:false,distmetric:"42.195 km",distimperial:"26.22 miles"});m.push({distance:560000000,label:"Hey, you've scrolled a long long distance. To be exact, it equals the longest solo ocean swim ever.",unlocked:false,distmetric:"112 km",distimperial:"69.59 miles"});m.push({distance:775000000,label:"Du bist ein Berliner, you’ve just scrolled the length of the Berlin Wall.",unlocked:false,distmetric:"155 km",distimperial:"96 miles"});m.push({distance:1112250000,label:"The combined length of the swim, the bicycle ride and the marathon in an Ironman. Your parents should be proud.",unlocked:false,distmetric:"222.45 km",distimperial:"140.6 miles"});m.push({distance:2137000000,label:"Vegas baby, Vegas! You've scrolled the distance between Los Angeles and Las Vegas.",unlocked:false,distmetric:"427.4 km",distimperial:"265.6 miles"});m.push({distance:5525000000,label:"Hey, you've scrolled that's the distance between Paris and Rome.",unlocked:false,distmetric:"1105 km",distimperial:"686.6 miles"});m.push({distance:44260000000,label:"How long is the Great Wall of China? The same distance you just scrolled. Virtual high five!",unlocked:false,distmetric:"8852 km",distimperial:"5501 miles"});m.push({distance:200375000000,label:"OMG, you've scrolled the length of the equator.",unlocked:false,distmetric:"40075 km",distimperial:"24901 miles"});m.push({distance:1922015000000,label:"Hey, this is crazy but you've scrolled 384403 kilometres, that's the distance between earth and the moon. So call it, maybe.",unlocked:false,distmetric:"384403 km",distimperial:"238857 miles"});m.push({distance:5000000000000,label:"WE SALUTE YOU, LORD OF THE INTERNETZ.",unlocked:false,distmetric:"1000000 km",distimperial:"621371 miles"});try{chrome.tabs.getSelected(null,function(e){chrome.tabs.sendMessage(e.id,{greeting:"hello, content script"})});chrome.extension.onMessage.addListener(function(L,K,e){console.log("RECEIVED:"+L.totalScrolled);if(b!=0){f+=parseInt(L.totalScrolled);t+=parseInt(L.totalScrolled);$("#message").html(f.toString()+" pixels scrolled");C();F(f);console.log(L);localStorage.totalScrolled=parseInt(f);localStorage.setItem(i,parseInt(t));chrome.tabs.getSelected(null,function(M){chrome.tabs.sendMessage(M.id,{distanceReceived:L.totalScrolled})})}else{chrome.tabs.getSelected(null,function(M){chrome.tabs.sendMessage(M.id,{distanceReceived:L.totalScrolled})})}})}catch(G){console.log(G)}if(b==0){$("#playpause_button").toggleClass("playpause_button_statepause")}var f=parseInt(localStorage.totalScrolled?localStorage.totalScrolled:0);var t=parseInt(localStorage.getItem(i)?localStorage.getItem(i):0);var D=document.getElementById("distancecanvas").getContext("2d");D.font="100px BeBas";D.fillStyle="White";var E=document.getElementById("distancecanvas_reflection").getContext("2d");E.font="100px BeBas";E.fillStyle="White";E.scale(1,-1);var B=document.getElementById("distancecanvas_p3").getContext("2d");B.font="100px BeBas";B.fillStyle="White";var z=document.getElementById("distancecanvas_reflection_p3").getContext("2d");z.font="100px BeBas";z.fillStyle="White";z.scale(1,-1);var c=E.createLinearGradient(0,-45,0,45);c.addColorStop(0,"rgba( 255, 255, 255, 0 )");c.addColorStop(1,"rgba( 255, 255, 255, 1.0 )");E.fillStyle=c;E.rect(0,0,E.width,45);E.fill();z.fillStyle=c;z.rect(0,0,E.width,45);z.fill();C();v(f);w();setTimeout(C,500);$("#navigation li a").click(function(){A(this.id)});$("#page1_twitter").click(function(){var N;if(l.split("|").length>1){N=l.split("|")[0]+j+l.split("|")[1]}else{N=l+" "+j}N=N.replace(/^0+/,"");var M=/twitter\.com(\:\d{2,4})?\/intent\/(\w+)/,Q="scrollbars=yes,resizable=yes,toolbar=no,location=yes",O=550,e=420,L=screen.height,K=screen.width,P=encodeURIComponent("I've scrolled "+N+" today. ScrollKeeper is a free Chrome add-on that tracks how far you walk on the roads of the internet.");left=Math.round((K/2)-(O/2));top=50;if(L>e){top=Math.round((L/2)-(e/2))}window.open("https://twitter.com/intent/tweet/?text="+P,"intent",Q+",width="+O+",height="+e+",left="+left+",top="+top)});$("#page1_fb").click(function(){if(l.split("|").length>1){distanceShareOutput=l.split("|")[0]+j+l.split("|")[1]}else{distanceShareOutput=l+""+j}distanceShareOutput=distanceShareOutput.replace(/^0+/,"");var P="scrollbars=yes,resizable=yes,toolbar=no,location=yes",M=958,e=650,L=screen.height,K=screen.width;var O=Math.round((K/2)-(M/2));var N=50;window.open("http://www.scrollkeeper.org/post_form.php?distance="+distanceShareOutput,"fb_share",P+",width="+M+",height="+e+",left="+O+",top="+N)});$("#playpause_button").click(function(){$("#playpause_button").toggleClass("playpause_button_statepause");if(b==0){b=1}else{b=0}localStorage.recording=b});$("#page_5_scale").click(function(){if(I=="metric"){$("#config_1_1").removeClass("config_selected");$("#config_1_2").removeClass("config_unselected");$("#config_1_1").addClass("config_unselected");$("#config_1_2").addClass("config_selected");I="imperial"}else{$("#config_1_1").removeClass("config_unselected");$("#config_1_2").removeClass("config_selected");$("#config_1_1").addClass("config_selected");$("#config_1_2").addClass("config_unselected");I="metric"}localStorage.scale=I;C();w()});$("#page_5_landmarks").click(function(){if(m==1){$("#config_2_1").removeClass("config_selected");$("#config_2_2").removeClass("config_unselected");$("#config_2_1").addClass("config_unselected");$("#config_2_2").addClass("config_selected");m=0}else{$("#config_2_1").removeClass("config_unselected");$("#config_2_2").removeClass("config_selected");$("#config_2_1").addClass("config_selected");$("#config_2_2").addClass("config_unselected");m=1}localStorage.landmarks=m});$("#page_5_awesome").click(function(){if(s==1){$("#config_3_1").removeClass("config_selected");$("#config_3_2").removeClass("config_unselected");$("#config_3_1").addClass("config_unselected");$("#config_3_2").addClass("config_selected");s=0}else{$("#config_3_1").removeClass("config_unselected");$("#config_3_2").removeClass("config_selected");$("#config_3_1").addClass("config_selected");$("#config_3_2").addClass("config_unselected");s=1}localStorage.awesomeness=s});function A(K){$("#navigation li a").removeClass("selected");$("#navigation li a").addClass("unselected");$("#"+K).removeClass("unselected");$("#"+K).addClass("selected");var e=K.replace("nav_","page_");$("#pages > div").removeClass("selected");$("#pages > div").addClass("unselected");$("#"+e).addClass("selected");$("#"+e).removeClass("unselected")}function C(){D.clearRect(0,0,400,200);E.clearRect(0,0,400,-200);B.clearRect(0,0,400,200);z.clearRect(0,0,400,-200);var K,e;if(I=="metric"){e=(Math.round((t/d)*100)/100);K=(Math.round((f/d)*100)/100)}else{e=(Math.round((t/o)*100)/100);K=(Math.round((f/o)*100)/100)}if(I=="metric"){distanceObjToday=k(e);distanceObjTotal=k(K)}else{distanceObjToday=J(e);distanceObjTotal=J(K)}if(distanceObjToday.distanceString.split("|").length>1){$("#page_1_unit").css({left:"160px"});D.fillText(distanceObjToday.distanceString.split("|")[0],45,90);E.fillText(distanceObjToday.distanceString.split("|")[0],45,0);D.fillText(distanceObjToday.distanceString.split("|")[1],175,90);E.fillText(distanceObjToday.distanceString.split("|")[1],175,0)}else{$("#page_1_unit").css({left:"275px"});D.fillText(distanceObjToday.distanceString,45,90);E.fillText(distanceObjToday.distanceString,45,0)}if(distanceObjTotal.distanceString.split("|").length>1){$("#page_3_unit").css({left:"160px"});B.fillText(distanceObjTotal.distanceString.split("|")[0],45,90);z.fillText(distanceObjTotal.distanceString.split("|")[0],45,0);B.fillText(distanceObjTotal.distanceString.split("|")[1],175,90);z.fillText(distanceObjTotal.distanceString.split("|")[1],175,0)}else{$("#page_3_unit").css({left:"275px"});B.fillText(distanceObjTotal.distanceString,45,90);z.fillText(distanceObjTotal.distanceString,45,0)}$("#page_3_unit").html(distanceObjTotal.unitString);$("#page_1_unit").html(distanceObjToday.unitString);l=distanceObjToday.distanceString;j=distanceObjToday.unitString}function J(L){var e;var K;if(L<12){e=h(L);K="in"}else{if(L<63360){e=u(L);K="ft"}else{e=q(L);K="mi"}}return{distanceString:e,unitString:K}}function h(K){var e=Math.round(K);if(e<10){return"000"+e}else{return"00"+e}}function u(L){var K=Math.floor(L/12);var e;if(K<10){e="0"+K.toString();if(L%12==0){e+="|00"}else{if(L%12<10){e+="|0"+Math.floor(L%12)}else{e+="|"+Math.floor(L%12)}}}else{if(K<100){e=K.toString();if(L%12==0){e+="|00"}else{if(L%12<10){e+="|0"+Math.floor(L%12)}else{e+="|"+Math.floor(L%12)}}}else{if(K<1000){e="0"+K.toString()}else{e=K.toString()}}}return e}function q(L){var e;var K=(Math.round((L/63360)*1000)/1000);if(K<10){e=K.toString();if(a(K)==0){e+=".000"}else{if(a(K)==1){e+="00"}else{if(a(K)==2){e+="0"}}}}else{if(K<100){K=(Math.round(K*100)/100);e=K.toString();if(a(K)==0){e+=".00"}else{if(a(K)==1){e+="0"}}}else{K=(Math.round(K*10)/10);e=K.toString();if(a(K)==0){e+=".0"}}}return e}function k(L){var e;var K;if(L<1){e=x(L);K="cm"}else{if(L<1000){e=r(L);K="m"}else{if(L<1000000){e=p(L);K="km"}else{e=y(L);K="Mm"}}}return{distanceString:e,unitString:K}}function x(e){distCm=Math.round(100*e);if(distCm<10){return"000"+distCm}else{return"00"+distCm}}function r(e){if(e<10){l="0"+e.toString();if(a(e)==0){l+=".00"}else{if(a(e)==1){l+="0"}}}else{if(e<100){l=e.toString();if(a(e)==0){l+=".00"}else{if(a(e)==1){l+="0"}}}else{e=(Math.round(e*10)/10);l=e.toString();if(a(e)==0&&e<1000){l+=".0"}}}return l}function p(K){distKm=Math.round((Math.round(K)/1000)*1000)/1000;var e;if(distKm<10){e=distKm.toString();if(a(distKm)==0){e+=".000"}else{if(a(distKm)==1){e+="00"}else{if(a(distKm)==2){e+="0"}}}}else{if(distKm<100){distKm=(Math.round(distKm*100)/100);e=distKm.toString();if(a(distKm)==0){e+=".00"}else{if(a(distKm)==1){e+="0"}}}else{distKm=(Math.round(distKm*10)/10);e=distKm.toString();if(a(distKm)==0){e+=".0"}}}return e}function y(K){distMm=Math.round((Math.round(K)/1000000)*1000)/1000;var e;if(distMm<10){e=distMm.toString();if(a(distMm)==0){e+=".000"}else{if(a(distMm)==1){e+="00"}else{if(a(distMm)==2){e+="0"}}}}else{if(distMm<100){distMm=(Math.round(distMm*100)/100);e=distMm.toString();if(a(distMm)==0){e+=".00"}else{if(a(distMm)==1){e+="0"}}}else{distMm=(Math.round(distMm*10)/10);e=distMm.toString();if(a(distMm)==0){e+=".0"}}}return e}function a(K){var e=(""+K).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);if(!e){return 0}return Math.max(0,(e[1]?e[1].length:0)-(e[2]?+e[2]:0))}function g(){var L=document.createElement("div");L.style.width="1in";var K=document.getElementsByTagName("body")[0];K.appendChild(L);var e=document.defaultView.getComputedStyle(L,null).getPropertyValue("width");K.removeChild(L);return parseFloat(e)}function v(L){var K;for(var e=0;e<m.length;e++){K=m[e];if(K.distance<L){K.unlocked=true}}}function F(M){var L;var e=false;for(var K=0;K<m.length;K++){L=m[K];if(L.distance<M&&!L.unlocked){L.unlocked=true;e=true}}if(e){w()}}function w(){var L;var e="";for(var K=m.length-1;K>=0;K--){L=m[K];if(L.unlocked){if(I=="imperial"){e+="<p>"+L.label+" ("+L.distimperial+')</p>\n<p class="landmark_line"></p>'}else{e+="<p>"+L.label+" ("+L.distmetric+')</p>\n<p class="landmark_line"></p>'}}}$("#landmark_container").html(e)}});